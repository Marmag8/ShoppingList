<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:ShoppingList.Views"
             x:Class="ShoppingList.Views.StorePage"
             Title="Lista do Sklepu">
    <Grid Padding="10" RowSpacing="8">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="*" />
        </Grid.RowDefinitions>

		<HorizontalStackLayout Grid.Row="0" Spacing="12">
            <Button Text="Powrot"
                    VerticalOptions="Center"
                    HeightRequest="50"
                    Clicked="Return" />

            <VerticalStackLayout>
                <Label Text="Sklep:" />
                <Picker x:Name="Store" HeightRequest="20" SelectedIndexChanged="OnStoreChanged">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Dowolny</x:String>
                            <x:String>Biedronka</x:String>
                            <x:String>Lidl</x:String>
                            <x:String>Selgros</x:String>
                            <x:String>Carrefour</x:String>
                            <x:String>Kaufland</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>
            </VerticalStackLayout>

            <VerticalStackLayout>
                <Label Text="Sortowanie:" />
                <Picker x:Name="Sorting" HeightRequest="20" SelectedIndexChanged="OnSortingChanged">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Według Kategorii</x:String>
                            <x:String>Według Nazwy</x:String>
                            <x:String>Według Ilości</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>
            </VerticalStackLayout>
			
        </HorizontalStackLayout>

        <CollectionView x:Name="ItemsCollectionView"
                        Grid.Row="1"
                        SelectionMode="None">
          <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <local:ItemView BindingContext="{Binding .}"
                              ParentViewModel="{Binding Source={x:Reference ItemsCollectionView}, Path=BindingContext}" />
                    </DataTemplate>
          </CollectionView.ItemTemplate>
        </CollectionView>
      </Grid>
</ContentPage>